.TH opriv 1 "22.10.96" "Olivetti Research Ltd"
.SH NAME
opriv \- utility for dealing with "private" files in an OMNI shadow tree
.SH SYNOPSIS
.B opriv make
.I files ...

.B opriv find
.I [directory]

.B opriv diff
.I files ...

.B opriv check
.I files ...

.B opriv ci
.I files ...

.B opriv revert
.I files ...

.SH DESCRIPTION

This command helps you make private copies of files in your own tree, track
differences between your private files and those in a "master" source tree, and
eventually perform a check-in of your private files into the master source
tree.

The first argument to opriv specifies the subcommand.  The possible commands
are:

.TP 5
\fBopriv make\fP \fIfiles ...\fP
This declares the given files as "private".  A local, writable copy is made of
any files which exist in the master source directory.  It this is the first
file in the directory to be declared private, then the path of the master
source directory will be prompted for.  All private files in a given directory
must share the same master source directory.

.TP
\fBopriv find\fP \fI[directory]\fP
This searches a tree starting at the given (or current) directory and prints
out any files which have been declared private.

.TP
\fBopriv diff\fP \fIfiles ...\fP
This does a "diff" between private files and the corresponding files in the
master source tree.  If no arguments are given then it operates on all private
files in the tree starting at the current directory (i.e. the files which would
be returned by \fBopriv find\fP).

.TP
\fBopriv check\fP \fIfiles ...\fP
This checks to see if files in the master source tree have been updated since
private copies were taken.  A warning is printed if the current file in the
master source tree has a different RCS revision from when the private copy was
taken.  If no arguments are given then it operates on all private files in the
tree starting at the current directory (i.e. the files which would be returned
by \fBopriv find\fP).

.TP
\fBopriv ci\fP \fIfiles ...\fP
This copies private files into the master source tree and performs an RCS
check-in.  An \fBopriv check\fP is done first to make sure that this is not
undoing someone else's updates to the master source.  An entry to be put in the
update log is automatically generated from the RCS log messages.  If no
arguments are given then it operates on all private files in the tree starting
at the current directory (i.e. the files which would be returned by \fBopriv
find\fP).

.TP
\fBopriv revert\fP \fIfiles ...\fP
This removes a private file so that it no longer will override the equivalent
file in the master source tree.  This is usually used after having performed a
check-in.  If no arguments are given then it operates on all private files in
the tree starting at the current directory (i.e. the files which would be
returned by \fBopriv find\fP).

.SH SEE ALSO
.BR oshadow (1)
.BR lndir (1)

.SH FILES
.TP 5
.B .privatefiles
This is used to record details of "private" files.  It is generated by
.B opriv make
in each directory in the shadow tree where files have been declared "private".

.SH AUTHOR
Tristan Richardson, Olivetti Research Ltd
