Thu May 27 21:28:03 BST 1999 sll
================================

- after IR client support is enabled on win32, the orbcore DLL fails to build.
  A feature or a bug in MSVC++ causes it to generate a bunch of references
  to a list of functions even though none of the these functions are actually
  used in the DLL. A stub version of these functions have to be added. The
  real function definitions are in the dynamic DLL. Notice that none
  of the stubs are exported by this DLL so they would not clash with
  the ones exported by the dynamic DLL.

src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omniORB2/orbcore/sharedlib/msvcdllstub.cc   NEW


Wed May 26 13:23:26 BST 1999 sll
================================

- enable IR client support by default when the compiler supports namespace

include/omniORB2/CORBA.h
include/omniORB2/CORBA_sysdep.h

Wed May 26 13:16:28 BST 1999 sll
================================

- Added -Y <cpp location> flag to omniidl2

src/tool/omniidl2/omniORB2_be/o2be_cfe_interface.cc


Wed May 26 12:36:42 BST 1999 sll
================================

-  Replaced WrTimedLock with WrTestLock.
-  Changed the operator() of Strand_iterator to increment the ref count
   of the strand it returns.
-  Added new member is_unused() to class Strand. This is used to check
   if no Sync object is parking on the strand. This member is necessary
   because given the change in the Strand_iterator, is_idle() is no
   longer appropriate to test if no Sync object is using the strand.
-  The net effect is to fix a rare race condition in the scavenger threads.
   that could result in the ORB core dump because of invalid pointers are
   being de-referenced.

include/omniORB2/rope.h
src/lib/omniORB2/strand.cc
src/lib/omniORB2/scavenger.cc

Tue May 25 13:53:29 BST 1999 sll
================================

- Changes necessary to bring the ORB to pass the VSORB testsuite.
  The culmulated effect is to bring the ORB to CORBA 2.1 compliant.
- Support for context added.
- IDL compiler bug fixes: 
	- constant expressions
	- enum definition in union switch type declarator
	- nested struct array member is not defined
	- typecode constants for anonymous bounded string in
          operation arguments are not defined
- Each sequence type is now a distinct type, this is to avoid the problem
  of picking up the wrong Any insertion and extraction operators
- Sequence of object now uses a separate template so that the value ctor
  is supported properly.
- The langEquiv argument in TypeCode::equal is now  default to 0 (previously
  it is 1).
- DII interfaces now throw system exception by default instead of passing
  back the value in the environment variable.
- DII poll_response now throws system exception if the operation results in
  a system exception.
- Added check for invalid pseudo objects being passed as arguments to
  static member functions. A magic number is attached to each pseudo object
  instance, this member value is set to 0 when the object is deleted.


include/omniORB2/CORBA.h
include/omniORB2/templatedecls.h
include/omniORB2/templatedefns.h
include/omniORB2/seqtemplates.h
include/omniORB2/bufferedStream.h
include/omniORB2/stringtypes.h

src/lib/omniORB2/orbcore/initFile.cc
src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omniORB2/orbcore/dir.mk
src/lib/omniORB2/orbcore/orbservice.cc        NEW
src/lib/omniORB2/orbcore/policy.cc            NEW
src/lib/omniORB2/orbcore/ior.cc
src/lib/omniORB2/orbcore/current.cc           NEW
src/lib/omniORB2/orbcore/corbaObject.cc
src/lib/omniORB2/orbcore/domainManager.cc     NEW
src/lib/omniORB2/orbcore/corbaBoa.cc
src/lib/omniORB2/orbcore/corbaOrb.cc
src/lib/omniORB2/orbcore/constants.cc
src/lib/omniORB2/orbcore/exceptn.cc
src/lib/omniORB2/orbcore/bootstrap_i.cc

src/lib/omniORB2/dynamic/corbaidldynstub.cc
src/lib/omniORB2/dynamic/corbaidlstub.cc
src/lib/omniORB2/dynamic/ir.cc
src/lib/omniORB2/dynamic/irdynstub.cc
src/lib/omniORB2/dynamic/irstub.cc
src/lib/omniORB2/dynamic/sharedlib/dir.mk
src/lib/omniORB2/dynamic/pseudo.h
src/lib/omniORB2/dynamic/environment.cc
src/lib/omniORB2/dynamic/context.cc
src/lib/omniORB2/dynamic/dir.mk
src/lib/omniORB2/dynamic/wrongTranExn.cc
src/lib/omniORB2/dynamic/request.cc
src/lib/omniORB2/dynamic/typecode.h
src/lib/omniORB2/dynamic/request.h
src/lib/omniORB2/dynamic/context.h
src/lib/omniORB2/dynamic/typecode.cc
src/lib/omniORB2/dynamic/contextList.cc
src/lib/omniORB2/dynamic/namedValue.cc
src/lib/omniORB2/dynamic/nvList.cc
src/lib/omniORB2/dynamic/exceptionList.cc
src/lib/omniORB2/dynamic/dynAny.cc
src/lib/omniORB2/dynamic/dynException.cc
src/lib/omniORB2/dynamic/any.cc

src/lib/omniORB2/bootstrap_i.h
src/tool/omniidl2/fe/idl.ll
src/tool/omniidl2/fe/idl.yy
src/tool/omniidl2/fe/lex.yy.cc
src/tool/omniidl2/fe/y.tab.h
src/tool/omniidl2/fe/y.tab.cc
src/tool/omniidl2/ast/ast_union.cc
src/tool/omniidl2/ast/ast_expression.cc
src/tool/omniidl2/ast/ast_generator.cc
src/tool/omniidl2/include/ast_generator.hh
src/tool/omniidl2/include/ast_union.hh
src/tool/omniidl2/include/utl_scope.hh
src/tool/omniidl2/util/utl_scope.cc

src/tool/omniidl2/omniORB2_be/dir.mk
src/tool/omniidl2/omniORB2_be/o2be_nested_typedef.cc
src/tool/omniidl2/omniORB2_be/o2be.h
src/tool/omniidl2/omniORB2_be/o2be_operation.cc
src/tool/omniidl2/omniORB2_be/o2be_call_desc.cc
src/tool/omniidl2/omniORB2_be/o2be_union.cc
src/tool/omniidl2/omniORB2_be/o2be_generator.cc
src/tool/omniidl2/omniORB2_be/o2be_name.cc
src/tool/omniidl2/omniORB2_be/o2be_struct.cc
src/tool/omniidl2/omniORB2_be/o2be_exception.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc
src/tool/omniidl2/omniORB2_be/o2be_attribute.cc
src/tool/omniidl2/omniORB2_be/o2be_string.cc
src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
src/tool/omniidl2/omniORB2_be/o2be_enum.cc
src/tool/omniidl2/omniORB2_be/o2be_name_mangle.cc
src/tool/omniidl2/omniORB2_be/o2be_buildDesc.cc



Sat May 22 18:36:21 BST 1999 sll
================================

- Added make rules to generate the database for viewing the source tree
  through ciao
  To regenerate the database, goto to the top level and type omake ciao.
  The database would be created as <buildtree top>/omni_ciao.db.
  To use the database, run ciao -f <buildtree top>/omni_ciao.db

src/tool/omniidl2/dir.mk
src/tool/dir.mk
src/lib/omniORB2/dir.mk
src/lib/dir.mk
src/appl/utils/dir.mk
src/appl/dir.mk
src/examples/dir.mk
src/dir.mk

- Added #ifdef __CIAO__ in these files so that CCia would not complain
  about gnu/linux particulars.

src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc
src/lib/omniORB2/orbcore/corbaOrb.cc

- Note: the ciao rule is written to ignore errors. If CCia cannot parse
        a source file, no database info is available for that file.
        At the moment, the files that CCia fails to parse are:
           src/appl/omniNames/log.cc
           src/examples/partcl/pttwish.cc
           src/lib/omniParTcl/omniParTcl.cc


Thu May 20 16:24:42 BST 1999 sll
================================

- Fixed bugs to make the tree works again on win32 with MSVC++

src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
include/omniORB2/templatedecls.h

- Separated proxyCall into without context and with context versions
  Otherwise the orbcore library becomes dependent on the dynamic library

include/omniORB2/proxyCall.h
src/lib/omniORB2/orbcore/proxyCall.cc
src/lib/omniORB2/dynamic/proxyCall.cc             NEW
src/lib/omniORB2/dynamic/dir.mk
src/lib/omniORB2/dynamic/sharedlib/dir.mk


Mon May 10 17:36:13 BST 1999 djr
================================

- Fixed bug in constructors for read-only streams.

src/lib/omniORB2/orbcore/mbufferedStream.cc


Fri Apr 30 18:20:12 BST 1999 tjr
================================

- add RMC's bootstrap agent code

src/lib/omniORBj/omniorb/orb/OmniInitialReferences.java -- NEW
src/lib/omniORBj/omniorb/orb/GIOPServerRequest.java
src/lib/omniORBj/omniorb/orb/IIOPProfileBody.java
src/lib/omniORBj/omniorb/orb/IOPTaggedProfile.java
src/lib/omniORBj/omniorb/orb/IOR.java
src/lib/omniORBj/omniorb/orb/ORBImpl.java
src/lib/omniORBj/omniorb/orb/ObjectAdapter.java
src/lib/omniORBj/omniorb/orb/ObjectKey.java
src/lib/omniORBj/dir.mk


Wed Apr 21 12:14:54 BST 1999 djr
================================

- Use dedicated classes for sequence of string. Template version
  gave incorrect constructors.

include/omniORB2/stringtypes.h  -- NEW
include/omniORB2/CORBA.h
src/lib/omniORB2/orbcore/corbaString.cc
src/tool/omniidl2/omniORB2_be/o2be.h
src/tool/omniidl2/omniORB2_be/dir.mk
src/tool/omniidl2/omniORB2_be/o2be_stringbuf.h  -- NEW
src/tool/omniidl2/omniORB2_be/o2be_stringbuf.cc -- NEW
src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
src/tool/omniidl2/omniORB2_be/o2be_name_mangle.cc

- Added marshalling operators to CORBA::Context. Updated various
  code to use these.

include/omniORB2/CORBA.h
src/lib/omniORB2/dynamic/context.h
src/lib/omniORB2/dynamic/context.cc
src/lib/omniORB2/dynamic/request.h
src/lib/omniORB2/dynamic/request.cc
src/lib/omniORB2/dynamic/pseudo.h
src/lib/omniORB2/dynamic/serverRequest.cc

- Proxy call wrapper now supports contexts.

include/omniORB2/proxyCall.h
src/lib/omniORB2/orbcore/proxyCall.cc

- Fixed bug in typecode alignment tables for arrays, and use of
  the same in sequences.

src/lib/omniORB2/dynamic/typecode.cc
src/lib/omniORB2/dynamic/tcParser.cc


Tue Apr 20 17:30:43 BST 1999 dpg1
=================================

- Oops -- #pragma prefix moved back outside module.
  #pragma prefix "" addded at end of file.

idl/Naming.idl


Tue Apr 20 14:43:52 BST 1999 dpg1
=================================

- Moved #pragma prefix inside module

idl/Naming.idl


Thu Apr 15 15:12:25 BST 1999 djr
================================

- Fixed bug in TIE implementation templates. Incorrect code was generated
  for interfaces using diamond shaped multiple inheritance.

src/tool/omniidl2/omniORB2_be/o2be_interface.cc


Wed Apr 14 11:41:12 BST 1999 dpg1
=================================

- Added inclusion guards to Naming.idl

idl/Naming.idl


Mon Apr 12 10:07:12 BST 1999 djr
================================

- Updated omniidl2 version number.

src/tool/omniidl2/omniORB2_be/o2be_root.cc
src/tool/omniidl2/driver/drv_main.cc


Tue Apr  6 09:30:57 BST 1999 djr
================================

- Updated the version number to 2.8.0

include/omniORB2/omniInternal.h
src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omniORB2/dynamic/sharedlib/dir.mk
src/lib/omniORB2/lifecycle/sharedlib/dir.mk

- MSVC is not FD compliant regarding decls of const ints and enums.

include/omniORB2/CORBA_sysdep.h


Wed Mar 31 15:37:42 GMT 1999 djr
================================

- Version 5.7 tree copied from version5.6 tree.
