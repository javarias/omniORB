Wed Jun  7 16:33:11 BST 2000 dpg1
=================================

- cookie was not passed to global exception handlers

src/lib/omniORB2/orbcore/exception.cc

- Replace refcounting removed by djr on 31 Jan.

src/lib/omniORB2/orbcore/strand.cc


Tue Mar  7 11:27:46 GMT 2000 dpg1
=================================

- Bug with derived NamingContext IORs in init file

src/lib/omniORB2/orbcore/initFile.cc


Wed Feb 23 12:08:52 GMT 2000 dpg1
=================================

- Add support for NextStep x86

external_merge/config/config.mk
external_merge/mk/platforms/x86_nextstep_3.3.mk  -- new
include/omniORB2/CORBA_sysdep.h
src/lib/omnithread/mach.cc


Tue Feb 22 18:44:21 GMT 2000 djr
================================

- Fixed inconsistency between tcParser interface and implementation.
  (No semantic effect!).

src/lib/omniORB2/dynamic/tcParser.h


Mon Feb 21 09:54:13 GMT 2000 djr
================================

- And a couple more.

src/lib/omniORB2/dynamic/typecode.cc


Thu Feb 17 14:38:09 GMT 2000 djr
================================

- A couple more fixes for TypeCode_union with alias in discriminator.

src/lib/omniORB2/dynamic/typecode.cc


Tue Feb 15 11:01:09 GMT 2000 djr
================================

- Fixed bug in TypeCodes -- create_union_tc failed if the discriminator
  type was an alias.

src/lib/omniORB2/dynamic/typecode.cc
src/lib/omniORB2/dynamic/typecode.h

- Fixed typo in the optimisation below.

src/lib/omniORB2/dynamic/tcParser.cc


Thu Feb 10 17:58:14 GMT 2000 djr
================================

- Optimised tcParser::calculateItemSize to use TypeCode alignment info.
  tcParser::alignedSize now uses the size of the buffer for its
  calculation if the incoming alignment happens to be 8.

src/lib/omniORB2/dynamic/tcParser.cc
src/lib/omniORB2/dynamic/tcParser.h


Wed Feb  9 14:16:51 GMT 2000 djr
================================

- Reverted to String_member initialising to zero by default, since
  using a static "" broke Any in a way which cannot be fixed without
  an incompatible change to library interfaces.

  Initialisation to empty string can now be enabled by defining the
  macro OMNI_EMPTY_STRING_MEMBERS, when compiling all libraries and
  applications.

- Minor bug fixes in assignment to String_member (which don't matter
  much as we no longer use statically allocated empty strings!).

include/omniORB2/stringtypes.h
src/lib/omniORB2/orbcore/corbaString.cc


Mon Jan 31 10:53:23 GMT 2000 djr
================================

- Removed superflouous reference counting in Strand_iterator.

- Improved allocation of client requests to strands.  If no strands are
  currently available, and the maximum number has been reached, then
  strands are allocated randomly (rather always using the first).

src/lib/omniORB2/orbcore/strand.cc

- Added cast to initialiser in String_member constructor.
  Fixed bug in unmarshalling of strings, which would cause a static
  string object to be free()d.

include/omniORB2/stringtypes.h
src/lib/omniORB2/orbcore/corbaString.cc


Thu Jan 27 18:06:52 GMT 2000 djr
================================

- Fixed bug in dumpbuf() (doh!).

src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc


Thu Jan 27 15:01:18 GMT 2000 djr
================================

- Fixed bug in _CORBA_String_member.  Default constructor now initialises
  with an empty string (not zero pointer).

include/omniORB2/stringtypes.h


Tue Jan 25 15:41:11 GMT 2000 sll
================================

- Added new platform file for Redhat 6.1, i.e. glibc-2.1 systems
- The compiler used by this platform is /usr/bin/{g++,gcc} and
  not the /usr/local/gcc-2.95 compiler. 

mk/platforms/i586_linux_2.0_glibc2.1.mk


Wed Jan 19 10:40:23 GMT 2000 dme
================================

- update compiled wrapper .exes in external_merge/

external_merge/bin/x86_win32/bin/x86_win32/clwrapper.exe
external_merge/bin/x86_win32/bin/x86_win32/libwrapper.exe
external_merge/bin/x86_win32/bin/x86_win32/linkwrapper.exe
external_merge/bin/x86_win32/bin/x86_win32/oidl2wrapper.exe
external_merge/bin/x86_win32/bin/x86_win32/oidlwrapper.exe


Tue Jan 18 14:54:30 GMT 2000 dme
================================

- new DIR_IDLFLAGS, DIR_STUBS_CPPFLAGS make it possible to compile
  interfaces and stubs that depend on idl from import trees without
  generating headers and stubs for those imported idls locally.  This is
  useful when the import tree supplies the headers and stubs itself,
  usually as part of some library.

- Win32 now uses filename-translating wrappers for omniidl[2].exe, allowing
  fearless use of "-I" etc.
- fixed strncpy()-related bug in all Win32 wrappers

mk/afterdir.mk
mk/beforedir.mk
mk/win32.mk

src/tool/win32/bccwrapper.c
src/tool/win32/clwrapper.c
src/tool/win32/dir.mk
src/tool/win32/libwrapper.c
src/tool/win32/linkwrapper.c
src/tool/win32/tlibwrapper.c
src/tool/win32/tlinkwrapper.c
src/tool/win32/oidl2wrapper.c
src/tool/win32/oidlwrapper.c


Fri Jan  7 14:47:08 GMT 2000 djr
================================

- Server and client call timeouts are now disabled by default.

src/lib/omniORB2/orbcore/scavenger.cc
src/lib/omniORB2/orbcore/corbaOrb.cc
doc/tex/omniORB2.tex


Wed Jan  5 18:05:56 GMT 2000 dme
================================

- Win32: pick up python install paths by asking python instead of assuming "C:"
- provide Foo_copy() for array types per CORBA 2.3 
- make o2be_root.cc compile on non-gcc platforms

src/lib/omniORBpy/modules/omnipy/dir.mk
src/lib/omniORBpy/omniidl/cxx/dir.mk

src/tool/omniidl2/omniORB2_be/o2be.h
src/tool/omniidl2/omniORB2_be/o2be_array.cc
src/tool/omniidl2/omniORB2_be/o2be_root.cc


Wed Jan  5 17:15:18 GMT 2000 djr
================================

- First post :)

- Added check for attempted re-initialisation in ORB_init and BOA_init.
  Throws BAD_INV_ORDER and prints a message if this happens.

src/lib/omniORB2/orbcore/corbaOrb.cc
src/lib/omniORB2/orbcore/corbaBoa.cc


Fri Dec 17 17:58:57 GMT 1999 dpg1
=================================

- Fix to name lookup in inherited interfaces

src/tool/omniidl2/util/utl_scope.cc


Fri Dec 17 13:27:16 GMT 1999 djr
================================

- Applied jnw's performance improvement for Any.


Tue Dec  7 18:08:27 GMT 1999 djr
================================

- Fixed bug in omniidl2, involving typedef of sequence of objref
  in the objrefs definition.

src/tool/omniidl2/omniORB2_be/o2be_sequence.cc


Mon Dec  6 13:59:32 GMT 1999 djr
================================

- Fixed bug in dumpbuf().

src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc


Thu Dec  2 19:01:41 GMT 1999 djr
================================

- Fixed bug in marshalling/unmarshalling of arrays.

src/tool/omniidl2/omniORB2_be/o2be_operation.cc


Fri Nov  5 17:00:44 GMT 1999 dpg1
=================================

- Added _core_attr to object table pointers and mutexes.
  On NT, omniORBpy requires this change to dllimport these variables.

include/omniORB2/omniInternal.h
  

Wed Oct 27 19:06:02 BST 1999 sll
================================

- Fixed a bug which triggers an assertion failure when the ORB cannot spawn
  a thread to serve a new connection.

src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc


Tue Oct 26 20:34:57 BST 1999 sll
================================

- DynAny no longer do alias expand on the typecode. In other words, all
  aliases are preserved in the typecode.

src/lib/omniORB2/dynamic/dynAny.h
src/lib/omniORB2/dynamic/dynAny.cc
src/lib/omniORB2/dynamic/typecode.cc


Wed Oct 13 16:40:34 BST 1999 djr
================================

- Fixed bug in omniidl3.  Typedef of objref as member of exception
  caused seg fault.

src/tool/omniidl3/omniORB2_be/o2be_exception.cc


Fri Oct  8 14:42:35 BST 1999 sll
================================

- Added #include <unistd.h> for AIX

src/lib/omnithread/posix.cc


Tue Sep 28 10:33:30 BST 1999 djr
================================

- Properly escape characters in include file guards.
  Removed dangerous default argument to StringBuf constructor.

src/tool/omniidl2/omniORB2_be/o2be_root.cc
src/tool/omniidl2/omniORB2_be/o2be_stringbuf.h
src/tool/omniidl2/omniORB2_be/o2be_stringbuf.cc


Mon Sep 27 17:55:00 BST 1999 sll
================================

- Fixed typo in platform mk file

external_merge/mk/platforms/powerpc_linux_2.2_glibc.mk


Fri Sep 24 23:22:20 BST 1999 sll
================================

- Final clean up of the clean and veryclean rules so that it works
  without omake. 

external_merge/mk/afterdir.mk
external_merge/mk/beforedir.mk
src/mk/afterdir.mk
src/mk/beforedir.mk
src/lib/omniORB2/dir.mk
src/lib/omniORB2/orbcore/dir.mk
src/lib/omniORB2/dynamic/dir.mk
src/lib/omniORB2/lifecycle/dir.mk


Fri Sep 24 15:44:15 BST 1999 sll
================================

- Rearranged the order of the clean and veryclean rules in the dir.mk files
  so that make veryclean can complete.

src/lib/omniORB2/dir.mk
src/lib/omniORB2/orbcore/dir.mk
src/lib/omniORB2/dynamic/dir.mk
src/lib/omniORB2/lifecycle/dir.mk


Fri Sep 24 12:30:49 BST 1999 sll
================================

- Removed else if nesting in stub dispatch function. This makes life
  easier for MS VC++ when compiling an interface with a pathologically large
  number of members.

src/tool/omniidl2/omniORB2_be/o2be_interface.cc


Thu Sep 23 20:52:03 BST 1999 sll
===============================

- fixed bad signature for omni_thread::stacksize(unsigned long)

include/omnithread.h


Thu Sep 23 20:04:22 BST 1999 sll
===============================

- Added static functions stacksize() in the omnithread library to control
  the stack size when spawning a new thread.

include/omnithread.h

src/lib/omnithread/posix.cc
src/lib/omnithread/nt.cc
src/lib/omnithread/solaris.cc
src/lib/omnithread/mach.cc


Thu Sep 23 17:43:53 BST 1999 djr
================================

- Fixed scoping bug in omniidl2.  New test case in test suite.

src/tool/omniidl2/omniORB2_be/o2be_operation.cc


Thu Sep 23 15:33:00 BST 1999 sll
================================

- Fixed a race condition which causes simple programs that exit quickly to
  delay for a maximum of one scan period.

src/lib/omniORB2/orbcore/scavanger.cc


Thu Sep 23 12:09:25 BST 1999 djr
================================

- Corrected signature of in() for objref_var types.
- Added checks for assignment from self for var types.
  This is disabled for the moment, until we are sure that
  it works on all compilers.

include/omniORB2/templatedecls.h


Wed Sep 22 20:56:01 BST 1999 sll
================================

- typo.

src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc


Wed Sep 22 19:50:20 BST 1999 sll
================================

- Documentation update

src/lib/omniORB2/orbcore/corbaOrb.cc

doc/tex/omniORB2.tex
external_merge/README.FIRST
external_merge/README.Linux
external_merge/README.SunC++5
external_merge/README.egcs
external_merge/README.unix
external_merge/ReleaseNote_omniORB_270 DELETED
external_merge/ReleaseNote_omniORB_271 DEKETED
external_merge/ReleaseNote_omniORB_280
external_merge/THIS_IS_2_8_0_PRERELEASE_2 DELETED
external_merge/THIS_IS_2_8_0_RELEASE
external_merge/doc/omniORB2.dvi
external_merge/doc/omniORB2.pdf
external_merge/doc/omniORB2.ps
external_merge/doc/omniORB2.tex
external_merge/doc/omniORB2/.ID_MAP.pag
external_merge/doc/omniORB2/.IMG_PARAMS.pag
external_merge/doc/omniORB2/.ORIG_MAP.pag
external_merge/doc/omniORB2/footnode.html
external_merge/doc/omniORB2/images.log
external_merge/doc/omniORB2/images.pl
external_merge/doc/omniORB2/images.tex
external_merge/doc/omniORB2/img12.gif DELETED
external_merge/doc/omniORB2/img8.gif DELETED 
external_merge/doc/omniORB2/img9.gif
external_merge/doc/omniORB2/node1.html
external_merge/doc/omniORB2/node10.html
external_merge/doc/omniORB2/node11.html
external_merge/doc/omniORB2/node12.html
external_merge/doc/omniORB2/node13.html
external_merge/doc/omniORB2/node14.html
external_merge/doc/omniORB2/node15.html
external_merge/doc/omniORB2/node2.html
external_merge/doc/omniORB2/node3.html
external_merge/doc/omniORB2/node4.html
external_merge/doc/omniORB2/node5.html
external_merge/doc/omniORB2/node6.html
external_merge/doc/omniORB2/node7.html
external_merge/doc/omniORB2/node8.html
external_merge/doc/omniORB2/node9.html
external_merge/doc/omniORB2/omniORB2.html


Wed Sep 22 17:27:15 BST 1999 djr
================================

- Removed MT locking from DynAny.

src/lib/omniORB2/dynamic/dynAny.h
src/lib/omniORB2/dynamic/dynAny.cc


Wed Sep 22 17:09:13 BST 1999 sll
================================

- Documentation update

external_merge/ReleaseNote_omniORB_280
external_merge/THIS_IS_2_8_0_PRERELEASE_2   DELETED

src/lib/omniORB2/corbaOrb.cc


Wed Sep 22 17:06:56 BST 1999 sll
================================

- updated for openVMS

src/appl/omniNames/log.cc
src/appl/utils/catior/catior.cc
src/appl/utils/genior/genior.cc
src/appl/utils/convertior/convertior.cc

external_merge/etc/openvms.zip


Wed Sep 22 15:16:55 BST 1999 sll
================================

- updated for Solaris and IRIX 6.x
- now built shared library under Solaris with gcc

src/lib/omniORB2/dynamic/sharedlib/dir.mk
src/lib/omniORB2/lifecycle/sharedlib/dir.mk
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/sharedlib/dir.mk
src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omnithread/sharedlib/dir.mk

external_merge/config/config.mk
external_merge/mk/platforms/mips_irix_6.3_n32.mk
external_merge/mk/platforms/mips_irix_6.4_64.mk
external_merge/mk/platforms/mips_irix_6.4_n32.mk
external_merge/src/lib/omniORB2/orbcore/gatekeepers/alone/gatekeeper.cc


Wed Sep 22 14:40:39 BST 1999 sll
================================

- updated for AIX 4.2/3

external_merge/mk/platforms/powerpc_aix_4.2.mk
external_merge/mk/platforms/powerpc_aix_4.3.mk   NEW

include/omniORB2/CORBA_sysdep.h
src/lib/omniORB2/dynamic/sharedlib/dir.mk
src/lib/omniORB2/lifecycle/sharedlib/dir.mk
src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omnithread/sharedlib/dir.mk


Wed Sep 22 13:06:18 BST 1999 sll
================================

- merged port to SCO Unixware 7

include/omnithread.h
src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc
src/lib/omnithread/posix.cc
src/tool/omniidl2/driver/drv_fork.cc
src/tool/omniidl2/driver/drv_main.cc
src/tool/omniidl2/driver/drv_preproc.cc
src/tool/omniidl2/fe/idl.ll
src/tool/omniidl2/fe/lex.yy.cc
src/tool/omniidl2/include/idl.hh

external_merge/config/config.mk
external_merge/mk/afterdir.mk
external_merge/mk/platforms/x86_uw7.mk   NEW
external_merge/src/lib/omniORB2/orbcore/gatekeepers/alone/gatekeeper.cc


Tue Sep 21 21:27:31 BST 1999 sll
================================

- Simplified the scavenger code and the mechanism in which connections
  are shutdown. Now only one scavenger thread scans both incoming
  and outgoing connections. A separate thread do the actual shutdown.

- Trace messages in various modules have been updated to use the logger class.

- omniORB::scanGranularity() now takes only one argument as there is
  only one scan period parameter instead of 2.

- -ORBscanGranularity replaces -ORBscanOutgoingPeriod and 
                               -ORBscanIncomingPeriod.


include/omniORB2/omniORB.h
include/omniORB2/rope.h

src/lib/omniORB2/bootstrap_i.h
src/lib/omniORB2/orbcore/bootstrap_i.cc
src/lib/omniORB2/orbcore/corbaBoa.cc
src/lib/omniORB2/orbcore/corbaOrb.cc
src/lib/omniORB2/orbcore/relStream.h
src/lib/omniORB2/orbcore/ropeFactory.cc
src/lib/omniORB2/orbcore/scavenger.cc
src/lib/omniORB2/orbcore/scavenger.h
src/lib/omniORB2/orbcore/strand.cc
src/lib/omniORB2/orbcore/tcpSocket.cc
src/lib/omniORB2/orbcore/tcpSocket.h
src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc


Tue Sep 21 18:02:39 BST 1999 sll
================================

- removed unnecessary file

src/lib/omniORB2/orbcore/unshared.cc


Mon Sep 20 16:31:27 BST 1999 sll
================================

- make the source compile with SUN C++ 5.0 without the -g flag
- (omniidl2 now works but all examples core dump when an exception is raised
   in the runtime)

src/lib/omniORB2/dynamic/dynException.cc
src/tool/omniidl2/include/ast_decl.hh
src/tool/omniidl2/include/utl_scope.hh


Mon Sep 20 11:32:34 BST 1999 sll
================================

- MS VC++ 5.0 does not pick up the const char* conversion operator of a
  StringBuf automagically when passed to an iostream. Have to do an explicit
  casting.

src/tool/omniidl2/omniORB2_be/o2be_operation.cc


Wed Sep 15 19:04:14 BST 1999 djr
================================

- Fixed bug in marshalling of Contexts, in the case that a specified
  context-value is not present in the Context.

src/lib/omniORB2/dynamic/context.cc


Wed Sep 15 11:31:11 BST 1999 djr
================================

- omniidl2 bug fix.  o2be_operation::produce_invoke() did not pass the
  context argument if the operation has no (normal) arguments.

src/tool/omniidl2/omniORB2_be/o2be_operation.cc


Tue Sep 14 18:43:38 BST 1999 sll
================================

- omniidl2 bug fix

  module A {
   typedef string Atype;
   interface B {
     void op();
   };
  };

  module C {
    typedef char Atype;
    interface D : A::B {
      void op2(in Atype x);
    };
  };

  The stub code for C::D::op2 refers to A::Atype instead of C::Atype.
  This is a bug.

src/tool/omniidl2/util/utl_scope.cc


Tue Sep 14 17:57:42 BST 1999 djr
================================

- Bug in omniidl2.  Exception constructor taking member arguments did
  not duplicate an object reference argument.

src/tool/omniidl2/omniORB2_be/o2be_exception.cc


Wed Sep  8 12:42:25 BST 1999 sll
================================

- ensure that NetBufferedStream cleanup properly when the underlying strand
  has been closed.

src/lib/omniORB2/orbcore/nbufferedStream.cc


Wed Sep  1 15:56:42 BST 1999 sll
================================

- workaround for Cygnus compiler problem, minor update to cope with ETS kernel

src/tool/omniidl2/ast/ast_string.cc
src/lib/omniORB2/orbcore/initFile.cc


Wed Sep  1 13:58:24 BST 1999 djr
================================

- Added atomic logging class omniORB::logger, and methods
  logf() and logs().

include/omniORB2/omniORB.h
src/lib/omniORB2/logIOstream.cc
src/lib/omniORB2/corbaOrb.cc


Tue Aug 31 20:19:50 BST 1999 sll
================================

- Scavenger class inheritance revert to single inheritance because the
  bug that causes occasional thread exit has been identified.

src/lib/omniORB2/orbcore/scavenger.cc


Mon Aug 30 19:46:21 BST 1999 sll
================================

- Remove default ENABLE_CLIENT_IR_SUPPORT define in CORBA_sysdep.h
  Application code must define this macro explicitly if it wants to
  act as a client of an interface Repository.

include/omniORB2/CORBA_sysdep.h
include/omniORB2/CORBA.h
src/lib/omniORB2/dynamic/irstub.cc
src/lib/omniORB2/dynamic/irdynstub.cc
src/lib/omniORB2/dynamic/dynamicImplementation.cc
src/lib/omniORB2/dynamic/ir.cc
src/lib/omniORB2/dynamic/nvList.cc
src/lib/omniORB2/dynamic/serverRequest.cc
src/lib/omniORB2/dynamic/corbaidlstub.cc
src/lib/omniORB2/dynamic/corbaidldynstub.cc
src/lib/omniORB2/orbcore/corbaBoa.cc
src/lib/omniORB2/orbcore/policy.cc


Mon Aug 30 19:16:15 BST 1999 sll
================================

- Removed any reference to syslog in tcpwrapper gatekeeper.

src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/diag.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/fix_options.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/options.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/percent_x.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/refuse.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/rfc931.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/shell_cmd.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/socket.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/tli.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/update.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/workarounds.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/hosts_access.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/fakelog2.c


Mon Aug 30 17:41:36 BST 1999 sll
================================

- Scavenger threads now scan for idle connections and stuck remote calls.
- New omniORB APIs to control their behavior:

       omniORB::scanGranularity
       omniORB::callTimeOutPeriod
       omniORB::idleConnectionScanPeriod

  New -ORB options to control from the command line:

        -ORBinConScanPeriod <n seconds>
        -ORBoutConScanPeriod <n seconds>
        -ORBclientCallTimeOutPeriod <n seconds>
        -ORBserverCallTimeOutPeriod <n seconds>
        -ORBscanOutgoingPeriod <n seconds>
        -ORBscanIncomingPeriod <n seconds>

   New -ORBhelp and -BOAhelp command line options to list all the
   options available.

src/lib/omniORB2/orbcore/scavenger.h
src/lib/omniORB2/orbcore/scavenger.cc
src/lib/omniORB2/orbcore/giopClient.cc
src/lib/omniORB2/orbcore/giopServer.cc
src/lib/omniORB2/orbcore/strand.cc
src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc
src/lib/omniORB2/orbcore/corbaOrb.cc
src/lib/omniORB2/orbcore/corbaBoa.cc

include/omniORB2/rope.h 
include/omniORB2/omniORB.h


Tue Aug 24 13:33:46 BST 1999 djr
================================

- Modified CORBA::PR_structMember, TypeCode_struct and
  TypeCode_except to make proper use of 'const char*',
  to eliminate warnings/errors on strict compilers.

include/omniORB2/CORBA.h
src/lib/omniORB2/dynamic/typecode.h
src/lib/omniORB2/dynamic/typecode.cc


Fri Aug 20 12:41:42 BST 1999 djr
================================

- Fixed bug in omniidl2 generated MACRO (too many )'s ).

src/tool/omniidl2/omniORB2_be/o2be_union.cc

- Removed debug output (left in by mistake!).

src/tool/omniidl2/omniORB2_be/o2be_operation.cc

- Yet another TypeCode alias-expand bug.

src/lib/omniORB2/dynamic/typecode.cc


Tue Aug 17 20:16:38 BST 1999 sll
================================

- Fix to bug introduced in python binding change

src/lib/omniORB2/orbcore/giopServer.cc


Mon Aug 16 20:18:08 BST 1999 sll
================================

- Replace the use of static variables dtor for cleanup. Replace this with
  explicit calls to per-compilation unit initialisation and cleanup.

- new member function CORBA::ORB::NP_destory(). This member is called by
  the application to cleanup the ORB before exit.

include/omniORB2/CORBA.h
include/omniORB2/omniInternal.h

src/lib/omniORB2/orbcore/corbaOrb.cc
src/lib/omniORB2/orbcore/bootstrap_i.cc
src/lib/omniORB2/orbcore/corbaBoa.cc
src/lib/omniORB2/orbcore/initFile.cc
src/lib/omniORB2/orbcore/object.cc
src/lib/omniORB2/orbcore/objectRef.cc
src/lib/omniORB2/orbcore/ropeFactory.cc
src/lib/omniORB2/orbcore/scavenger.cc
src/lib/omniORB2/orbcore/ropeFactory.h

src/examples/echo/eg1.cc
src/examples/echo/eg2_clt.cc
src/examples/echo/eg2_impl.cc
src/examples/echo/eg3_clt.cc
src/examples/echo/eg3_impl.cc
src/examples/echo/eg3_tieimpl.cc
src/examples/anyExample/anyExample_clt.cc
src/examples/anyExample/anyExample_impl.cc
src/examples/dii/echo_diiclt.cc
src/examples/dsi/echo_dsiimpl.cc
src/examples/lifecycle/lcserver.cc
src/examples/lifecycle/lcclient.cc
src/examples/lifecycle/lcremove.cc

src/appl/utils/nameclt/nameclt.cc


Sat Aug 14 17:40:58 BST 1999 sll
================================

- Merge updates for non-supported platforms: HPUX, Irix, OpenVMS, AIX
  All are just compiler flag or workarounds for specific compilers.

idl/ir.idl
include/omniORB2/CORBA.h
include/omniORB2/CORBA_basetypes.h
include/omniORB2/CORBA_sysdep.h
include/omniORB2/bufferedStream.h
include/omniORB2/seqtemplates.h
include/omniORB2/templatedecls.h
src/lib/omniORB2/dynamic/sharedlib/dir.mk
src/lib/omniORB2/lifecycle/sharedlib/dir.mk
src/lib/omniORB2/orbcore/gatekeepers/dir.mk
src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omnithread/sharedlib/dir.mk
src/tool/omniidl2/omniORB2_be/o2be_cfe_interface.cc
src/tool/omniidl2/omniORB2_be/o2be_union.cc


Sat Aug 14 17:34:31 BST 1999 sll
================================

- Merged changes necessary to support the python binding.
  (omni::locateObject no longer throw an exception when the object is not
   found. It returns a nil pointer instead.)

include/omniORB2/omniInternal.h
src/lib/omniORB2/orbcore/giopServer.cc
src/lib/omniORB2/orbcore/ropeFactory.cc
src/lib/omniORB2/orbcore/unshared.cc
src/lib/omniORB2/orbcore/objectRef.cc


Mon Aug  9 12:20:28 BST 1999 sll
================================

- Updated the way out argument signature is generated. The old code
  has been superseded by the new code to conform to CORBA 2.3

src/tool/omniild2/omniORB2_be/o2be.h
src/tool/omniild2/omniORB2_be/o2be_array.cc
src/tool/omniild2/omniORB2_be/o2be_operation.cc
src/tool/omniild2/omniORB2_be/o2be_sequence.cc
src/tool/omniild2/omniORB2_be/o2be_struct.cc
src/tool/omniild2/omniORB2_be/o2be_union.cc


Fri Aug  6 17:55:57 BST 1999 sll
================================

- Fixed a bug that affects extract the enum discriminator label from a
  union typecode.

src/lib/omniORB2/dynamic/typecode.cc


Wed Aug  4 11:14:31 BST 1999 sll
================================

- Fixed a bug so that the correct stub code is generated for this IDL:

  typedef Object Factory;
  struct A {
    Factory o;
  };


Mon Aug  2 19:47:32 BST 1999 sll
================================

- Fixed bug in global scope lookup
- The bug causes the following IDL to fail
   
  module A {
   exception MyError {};
  };

  module B {
    interface parent {};

    interface child : parent {
      void op() raises (A::MyError);
    };
  };

src/tool/omniidl2/util/utl_scope.cc


Mon Aug  2 14:41:39 BST 1999 sll
================================

- Linux glibc-2.0 platform (i586_linux_2.0_glibc) now uses gcc-2.95

- The compiler is installed in /usr/local/gcc-2.95/bin
- The compiler output is not compatible that of egcs-1.1.2

mk/platforms/i586_linux_2.0_glibc.mk


Mon Aug  2 11:56:13 BST 1999 sll
================================

- Correct non-standard C++ signature.

include/omniORB2/tcDescriptor.h


Fri Jul 23 12:24:32 BST 1999 djr
================================

- Efficient marshalling/unmarshalling of array of basic types.

include/omniORB2/bufferedStream.h
src/tool/omniidl2/o2be_operation.cc


Thu Jul 22 15:05:25 BST 1999 tjr
================================

- tidy up some java funnies.

mk/afterdir.mk       - remove debugging output
idl/weatherInfo.idl  - remove spurious file


Tue Jul 20 15:23:06 BST 1999 djr
================================

- Accept nil ref in DynAny::insert_reference().
- Allow DynAny with type tk_void.

src/lib/omniORB2/dynamic/dynAny.cc

- Allocate an exception list if CORBA::Request::exception() is
  accessed and no exception list was given.  Similarly for
  context lists.

src/lib/omniORB2/dynamic/request.cc


Mon Jul 19 10:50:03 BST 1999 djr
================================

- Put back prefix Exception/UserException onto type id of exceptions.

src/tool/omniidl2/omniORB2_be/o2be_exception.cc

- Removed redundant tests for nil object references.

include/omniORB2/templatedecls.h


Fri Jul  9 22:01:23 BST 1999 sll
================================

- Now BOA::destroy() does not return until all worker threads have
  exited.

src/lib/omniORB2/orbcore/tcpSocket.h
src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc


Fri Jul  9 15:00:00 BST 1999 sll
================================

- Put back non-copy object reference insertion operator for Any
  This operator was there in version5.5 tree and had been removed in
  the version 5.6 tree (why?)

src/tool/omniidl2/omniORB2_be/o2be_interface.cc


Mon Jul  5 10:24:02 BST 1999 sll
================================

- typecode member_label for the default member should be an octet

src/lib/omniORB2/dynamic/typecode.cc


Fri Jul  2 20:10:55 BST 1999 sll
================================

- Changed Any extraction for typecode to non-copy.
  The semantics can be changed back to pre-2.8.0's by setting
  omniORB_27_CompatibleAnyExtraction.

- Removed inlined virtual destructors. Some compilers generate a copy of
  each destructor in each compilation unit.

- typedef of a typedef of a struct, union, sequence, enum and primitive
  type now translates to a C++ typedef of the typedef instead of the
  real base type. This change only make a real difference with sequence type.


include/omniORB2/rope.h
src/lib/omniORB2/orbcore/ropeFactory.h
src/lib/omniORB2/orbcore/ropeFactory.cc
src/lib/omniORB2/dynamic/any.cc
src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
src/tool/omniidl2/omniORB2_be/o2be_predefined_type.cc
src/tool/omniidl2/omniORB2_be/o2be_enum.cc
src/tool/omniidl2/omniORB2_be/o2be_union.cc
src/tool/omniidl2/omniORB2_be/o2be_struct.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc
src/tool/omniidl2/omniORB2_be/o2be_root.cc


Thu Jul  1 11:17:57 BST 1999 djr
================================

- Fixed implementation of alias expansion for TypeCodes.
- Added omg.org to a number of repository IDs.

src/lib/omniORB2/dynamic/typecode.cc
src/lib/omniORB2/dynamic/typecode.h
src/lib/omniORB2/dynamic/dynException.cc


Mon Jun 28 18:35:45 BST 1999 sll
================================

- Fixed bug in marhalling Any when tcAliasExpand is set to 1.
- Added packet dump in tcpSocketMTfactory + openvms merge.

src/lib/omniORB2/dynamic/any.cc
src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc


Mon Jun 28 14:29:56 BST 1999 dpg1
=================================

- Updated LifeCycle code for proxyCallWraper and Context support

include/omniLC.h
src/lib/omniORB2/lifecycle/omniLifeCycle.cc
src/lib/omniORB2/lifecycle/sharedlib/dir.mk
src/tool/omniidl2/omniORB2_be/o2be_attribute.cc
src/tool/omniidl2/omniORB2_be/o2be_operation.cc


Sat Jun 26 18:50:18 BST 1999 sll
================================

- Merged patches for unsupported platforms:
    irix 6.{2-5}, openvms, freebsd, hpux 11.0
- Added rebase to avoid dll load address clash on win32
- fixed lifecycle build so that the dll on win32 correctly exports its symbols

include/omnithread.h
include/omniORB2/CORBA_sysdep.h
include/omniORB2/giopDriver.h
include/omniORB2/omniInternal.h
include/omniORB2/omniLC.h
include/omniORB2/omniORB.h
src/appl/omniNames/log.cc
src/appl/omniNames/omniNames.cc
src/appl/utils/catior/dir.mk
src/appl/utils/convertior/dir.mk
src/appl/utils/genior/dir.mk
src/examples/lifecycle/dir.mk
src/lib/dir.mk
src/lib/omniORB2/dynamic/context.cc
src/lib/omniORB2/dynamic/proxyCall.cc
src/lib/omniORB2/dynamic/sharedlib/dir.mk
src/lib/omniORB2/lifecycle/dir.mk
src/lib/omniORB2/lifecycle/sharedlib/dir.mk
src/lib/omniORB2/orbcore/corbaBoa.cc
src/lib/omniORB2/orbcore/corbaOrb.cc
src/lib/omniORB2/orbcore/dir.mk
src/lib/omniORB2/orbcore/giopServer.cc
src/lib/omniORB2/orbcore/libcWrapper.cc
src/lib/omniORB2/orbcore/objectKey.cc
src/lib/omniORB2/orbcore/proxyCall.cc
src/lib/omniORB2/orbcore/scavenger.cc
src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/percent_m.c
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/tcpd.h
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/sharedlib/dir.mk
src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omnithread/sharedlib/dir.mk
src/tool/omkdepend/main.c
src/tool/omniidl2/driver/drv_fork.cc
src/tool/omniidl2/driver/drv_preproc.cc
src/tool/omniidl2/include/idl.hh


Fri Jun 25 16:18:33 BST 1999 sll
===============================

- more omni_thread update to avoid fatal exception when a blocking thread
  is interrupted by a unix signal.

src/lib/omnithread/posix.cc
src/lib/omnithread/solaris.cc


Fri Jun 25 14:55:48 BST 1999 sll
================================

- Rename compatibility flag copyStringInAnyExtraction to
  omniORB_27_CompatibleAnyExtraction.
- Changed Any extraction for object reference and to_string to non-copy.
  Again the semantics can be changed back to pre-2.8.0's by setting
  omniORB_27_CompatibleAnyExtraction.
- removed bogus operator Any::operator>>=(Object_ptr&)

include/omniORB2/CORBA.h
include/omniORB2/omniORB.h
src/lib/omniORB2/dynamic/any.cc
src/lib/omniORB2/dynamic/context.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc


Wed Jun 23 10:55:25 BST 1999 sll
================================

- omni_thread::sleep() no longer throws fatal exception when it is interrupt
  by a signal. Instead it blocks again with the time left to sleep.
  This makes the semantics of the function the same on all platforms.

src/lib/omnithread/posix.cc


Tue Jun 22 15:51:23 BST 1999 sll
================================

- New code to do insertion and extraction of string and object reference
  using the tcParser. Old code keeps a reference to String_member and
  ObjRef_member within a tcDescriptor. This no longer works because sequence
  type only returns these members as temporary.

- Fixed IDL compiler core dump when exception member contains a typedef of an
  interface.

- put back pre-2.3 Any::operator>>=(Any&).

include/omniORB2/CORBA.h
include/omniORB2/tcDescriptor.h

src/lib/omniORB2/dynamic/any.cc
src/lib/omniORB2/dynamic/context.cc
src/lib/omniORB2/dynamic/dynException.cc
src/lib/omniORB2/dynamic/tcParser.cc
src/lib/omniORB2/dynamic/typecode.cc
src/lib/omniORB2/dynamic/unknownUserExn.cc
src/lib/omniORB2/orbcore/corbaObject.cc

src/tool/omniidl2/omniORB2_be/o2be_exception.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc
src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
src/tool/omniidl2/omniORB2_be/o2be_struct.cc
src/tool/omniidl2/omniORB2_be/o2be_union.cc


Fri Jun 18 23:33:13 BST 1999 sll
================================

- Update examples to use const char* for extraction of string from Any

src/examples/dsi/echo_dsiimpl.cc
src/examples/dii/echo_diiclt.cc
src/examples/anyExample/anyExample_impl.cc


Fri Jun 18 20:58:00 BST 1999 sll
================================

- Update mapping to conform to CORBA 2.3:

1. For interface A, class A contains typedef _ptr_type and _var_type.

2. For struct, union and sequence, each type contains typedef _var_type.

3. Added T_out& operator=(const T_out&) for T_out types.

4. Generate typedef for anonymous sequence in struct.
      e.g. struct A {                 // IDL
              sequence <long> s;
           };
           class A {                  // C++
              typedef ... _s_seq;
              _s_seq s;
           };

5. Generate typedef for anonymous sequence in union.
      e.g. union node switch(long) {      // IDL
            case 0: sequence<node> s;
            default: long v;
           };
           class node {                    // C++
               typedef ... _s_seq;
           };

6. New members for sequence:
      - get_buffer, replace, release

7. Any type
      - new operator boolean operator>>=(const Any&, const T*&);
      - new from_string(), to_string() ctors with const char* argument
      - new void type(TypeCode_ptr) member.

8. Exception
      - new member _downcast()
      - new Any insertion and extraction operators 

9. TypeCode
      - new members equivalent()
                    get_compact_typecode()

- Any string extraction now return a string which is still owned by Any.
      New omniORB::copyStringInAnyExtraction variable is defined.
      If set to 1, revert to the old behaviour. That is the returned string is
      copied.

- TypeCode equal() now returns true if the typecode is identical.
  Internally, all typecode comparisons now use equivalent().

- Sequence of object reference and string re-implemented. Previous version
  cannot support the new member functions. 

- _LC_attr CPP macro in stubs is now replaced with _core_attr and _dyn_attr.
  This allows stubs to be separated into two NT DLLs, one for *SK.cc and the
  other for *DynSK.cc.

include/omniORB2/CORBA.h
include/omniORB2/seqtemplates.h
include/omniORB2/templatedefns.h
include/omniORB2/CORBA_basetypes.h
include/omniORB2/bufferedStream.h
include/omniORB2/CORBA_sysdep.h
include/omniORB2/IIOP.h
include/omniORB2/IOP.h
include/omniORB2/giopDriver.h
include/omniORB2/omniInternal.h
include/omniORB2/omniORB.h
include/omniORB2/corba_operators.h      NEW

src/tool/omniidl2/omniORB2_be/o2be.h
src/tool/omniidl2/omniORB2_be/o2be_interface.cc
src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
src/tool/omniidl2/omniORB2_be/o2be_struct.cc
src/tool/omniidl2/omniORB2_be/o2be_union.cc
src/tool/omniidl2/omniORB2_be/o2be_exception.cc
src/tool/omniidl2/omniORB2_be/o2be_constant.cc
src/tool/omniidl2/omniORB2_be/o2be_name.cc
src/tool/omniidl2/omniORB2_be/o2be_enum.cc
src/tool/omniidl2/omniORB2_be/o2be_operation.cc
src/tool/omniidl2/omniORB2_be/o2be_typedef.cc
src/tool/omniidl2/omniORB2_be/o2be_root.cc
src/tool/omniidl2/omniORB2_be/o2be_array.cc

omniORB2/orbcore/sharedlib/dir.mk
omniORB2/orbcore/corbaString.cc
omniORB2/orbcore/corbaObject.cc
omniORB2/orbcore/exception.cc
omniORB2/orbcore/exceptn.cc
omniORB2/orbcore/initFile.cc
omniORB2/orbcore/dir.mk
omniORB2/orbcore/gatekeepers/tcpwrapper/gatekeeper.cc
omniORB2/dynamic/tcParser.cc
omniORB2/dynamic/wrongTranExn.cc               DELETE
omniORB2/dynamic/unknownUserExn.cc
omniORB2/dynamic/dynException.cc
omniORB2/dynamic/dir.mk
omniORB2/dynamic/dynamicImplementation.cc
omniORB2/dynamic/serverRequest.cc
omniORB2/dynamic/any.cc
omniORB2/dynamic/tcParser.h
omniORB2/dynamic/typecode.cc
omniORB2/dynamic/typecode.h
omniORB2/dynamic/anyP.h
omniORB2/dynamic/anyP.cc
omniORB2/dynamic/dynAny.cc
omniORB2/dynamic/sharedlib/dir.mk

omniORB2/dynamic/dynException.h              NEW
omniORB2/orbcore/Namingstub.cc               NEW
omniORB2/orbcore/bootstrapstub.cc            NEW
omniORB2/dynamic/Namingdynstub.cc            NEW
omniORB2/dynamic/bootstrapdynstub.cc         NEW


Tue Jun  8 10:42:37 BST 1999 djr
================================

- Correction in the manual -- CORBA::ORB::create_* are non-static members.
  Also recursive TypeCodes are supported.

doc/tex/omniORB2.tex


Thu Jun  3 18:06:58 BST 1999 sll
================================

- Update mapping to conform to CORBA 2.2
- Added a new -c flag to omniidl2. This flag causes the compiler to add
  the '_' prefix to identifiers that clashes with C++ reserved words. This
  was the old default. The default now is to use the '_cxx_' prefix.

include/omniORB2/templatedecls.h
include/omniORB2/templatedefns.h
include/omniORB2/CORBA.h
include/omniORB2/stringtypes.h

src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc
src/tool/omniidl2/omniORB2_be/o2be_struct.cc
src/tool/omniidl2/omniORB2_be/o2be.h
src/tool/omniidl2/omniORB2_be/o2be_union.cc
src/tool/omniidl2/omniORB2_be/o2be_array.cc
src/tool/omniidl2/omniORB2_be/o2be_enum.cc
src/tool/omniidl2/omniORB2_be/o2be_name.cc
src/tool/omniidl2/omniORB2_be/o2be_cfe_interface.cc
src/tool/omniidl2/include/idl_defines.hh


Wed Jun  2 17:49:13 BST 1999 sll
================================

- Changed createObjRef(). In the case when the proxyObjectFactories for
  the targetRepoId and the mostDerivedRepoId are not available, we now create
  an AnonymousObject. Previously, we throw a Marshal exception. Any attempt
  to narrow the returned object to the target interface identified by
  targetRepoId would results in a nil object being returned.
  This change is necessary to facilitate the implementation of the python
  binding.

src/lib/omniORB2/orbcore/objectRef.cc


Wed Jun  2 17:05:10 BST 1999 sll
================================

- Enable IR client support for all platforms. Previously, IR client is
  not available with compilers that do not support namespace.
  A new -F flag is added to omniidl2, this causes the compiler to generate
  stub frags suitable for inclusion into the main stub files.

include/omniORB2/CORBA.h
include/omniORB2/CORBA_sysdep.h
include/omniORB2/proxyFactory.h

src/lib/omniORB2/orbcore/objectRef.cc
src/lib/omniORB2/orbcore/gatekeepers/dummystub/dir.mk
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/dir.mk
src/lib/omniORB2/orbcore/gatekeepers/tcpwrapper/sharedlib/dir.mk
src/lib/omniORB2/dynamic/irstub.cc
src/lib/omniORB2/dynamic/irdynstub.cc
src/lib/omniORB2/dynamic/corbaidldynstub.cc
src/lib/omniORB2/dynamic/corbaidlstub.cc
src/lib/omniORB2/dir.mk

src/tool/omniidl2/omniORB2_be/o2be_cfe_interface.cc
src/tool/omniidl2/omniORB2_be/o2be.h
src/tool/omniidl2/omniORB2_be/o2be_root.cc
src/tool/omniidl2/omniORB2_be/o2be_module.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc
src/tool/omniidl2/include/idl_defines.hh

idl/corbaidl.idl


Mon May 31 14:59:03 BST 1999 sll
================================

- Added support for SUN C++ v5.0 on Solaris 7.
  NOTE: there are bugs in the compiler which mess up exception handling when
        compiled with -O2. The compiler flag is set to '-O2 -g' by default.
        This seems to work.
        The last compiler patch applied is 107311-03. Re-test this when
        another compiler patch is applied.

mk/platforms/sun4_sosV_5.7.mk

include/omniORB2/CORBA_sysdep.h

src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc
src/appl/omniNames/log.h
src/appl/omniNames/NamingContext_i.h
src/appl/omniNames/omniNames.cc
src/appl/omniNames/NamingContext_i.cc
src/appl/omniNames/log.cc


Thu May 27 21:28:03 BST 1999 sll
================================

- after IR client support is enabled on win32, the orbcore DLL fails to build.
  A feature or a bug in MSVC++ causes it to generate a bunch of references
  to a list of functions even though none of  these functions are actually
  used in the DLL. A stub version of these functions have to be added. The
  real function definitions are in the dynamic DLL. Notice that none
  of the stubs are exported by this DLL so they would not clash with
  the ones exported by the dynamic DLL.

src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omniORB2/orbcore/sharedlib/msvcdllstub.cc   NEW


Wed May 26 13:23:26 BST 1999 sll
================================

- enable IR client support by default when the compiler supports namespace

include/omniORB2/CORBA.h
include/omniORB2/CORBA_sysdep.h


Wed May 26 13:16:28 BST 1999 sll
================================

- Added -Y <cpp location> flag to omniidl2

src/tool/omniidl2/omniORB2_be/o2be_cfe_interface.cc


Wed May 26 12:36:42 BST 1999 sll
================================

-  Replaced WrTimedLock with WrTestLock.
-  Changed the operator() of Strand_iterator to increment the ref count
   of the strand it returns.
-  Added new member is_unused() to class Strand. This is used to check
   if no Sync object is parking on the strand. This member is necessary
   because given the change in the Strand_iterator, is_idle() is no
   longer appropriate to test if no Sync object is using the strand.
-  The net effect is to fix a rare race condition in the scavenger threads.
   that could result in the ORB core dump because of invalid pointers are
   being de-referenced.

include/omniORB2/rope.h
src/lib/omniORB2/orbcore/strand.cc
src/lib/omniORB2/orbcore/scavenger.cc


Tue May 25 13:53:29 BST 1999 sll
================================

- Changes necessary to bring the ORB to pass the VSORB testsuite.
  The culmulated effect is to bring the ORB to CORBA 2.1 compliant.
- Support for context added.
- IDL compiler bug fixes: 
	- constant expressions
	- enum definition in union switch type declarator
	- nested struct array member is not defined
	- typecode constants for anonymous bounded string in
          operation arguments are not defined
- Each sequence type is now a distinct type, this is to avoid the problem
  of picking up the wrong Any insertion and extraction operators
- Sequence of object now uses a separate template so that the value ctor
  is supported properly.
- The langEquiv argument in TypeCode::equal is now  default to 0 (previously
  it is 1).
- DII interfaces now throw system exception by default instead of passing
  back the value in the environment variable.
- DII poll_response now throws system exception if the operation results in
  a system exception.
- Added check for invalid pseudo objects being passed as arguments to
  static member functions. A magic number is attached to each pseudo object
  instance, this member value is set to 0 when the object is deleted.


include/omniORB2/CORBA.h
include/omniORB2/templatedecls.h
include/omniORB2/templatedefns.h
include/omniORB2/seqtemplates.h
include/omniORB2/bufferedStream.h
include/omniORB2/stringtypes.h

src/lib/omniORB2/orbcore/initFile.cc
src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omniORB2/orbcore/dir.mk
src/lib/omniORB2/orbcore/orbservice.cc        NEW
src/lib/omniORB2/orbcore/policy.cc            NEW
src/lib/omniORB2/orbcore/ior.cc
src/lib/omniORB2/orbcore/current.cc           NEW
src/lib/omniORB2/orbcore/corbaObject.cc
src/lib/omniORB2/orbcore/domainManager.cc     NEW
src/lib/omniORB2/orbcore/corbaBoa.cc
src/lib/omniORB2/orbcore/corbaOrb.cc
src/lib/omniORB2/orbcore/constants.cc
src/lib/omniORB2/orbcore/exceptn.cc
src/lib/omniORB2/orbcore/bootstrap_i.cc

src/lib/omniORB2/dynamic/corbaidldynstub.cc
src/lib/omniORB2/dynamic/corbaidlstub.cc
src/lib/omniORB2/dynamic/ir.cc
src/lib/omniORB2/dynamic/irdynstub.cc
src/lib/omniORB2/dynamic/irstub.cc
src/lib/omniORB2/dynamic/sharedlib/dir.mk
src/lib/omniORB2/dynamic/pseudo.h
src/lib/omniORB2/dynamic/environment.cc
src/lib/omniORB2/dynamic/context.cc
src/lib/omniORB2/dynamic/dir.mk
src/lib/omniORB2/dynamic/wrongTranExn.cc
src/lib/omniORB2/dynamic/request.cc
src/lib/omniORB2/dynamic/typecode.h
src/lib/omniORB2/dynamic/request.h
src/lib/omniORB2/dynamic/context.h
src/lib/omniORB2/dynamic/typecode.cc
src/lib/omniORB2/dynamic/contextList.cc
src/lib/omniORB2/dynamic/namedValue.cc
src/lib/omniORB2/dynamic/nvList.cc
src/lib/omniORB2/dynamic/exceptionList.cc
src/lib/omniORB2/dynamic/dynAny.cc
src/lib/omniORB2/dynamic/dynException.cc
src/lib/omniORB2/dynamic/any.cc

src/lib/omniORB2/bootstrap_i.h
src/tool/omniidl2/fe/idl.ll
src/tool/omniidl2/fe/idl.yy
src/tool/omniidl2/fe/lex.yy.cc
src/tool/omniidl2/fe/y.tab.h
src/tool/omniidl2/fe/y.tab.cc
src/tool/omniidl2/ast/ast_union.cc
src/tool/omniidl2/ast/ast_expression.cc
src/tool/omniidl2/ast/ast_generator.cc
src/tool/omniidl2/include/ast_generator.hh
src/tool/omniidl2/include/ast_union.hh
src/tool/omniidl2/include/utl_scope.hh
src/tool/omniidl2/util/utl_scope.cc

src/tool/omniidl2/omniORB2_be/dir.mk
src/tool/omniidl2/omniORB2_be/o2be_nested_typedef.cc
src/tool/omniidl2/omniORB2_be/o2be.h
src/tool/omniidl2/omniORB2_be/o2be_operation.cc
src/tool/omniidl2/omniORB2_be/o2be_call_desc.cc
src/tool/omniidl2/omniORB2_be/o2be_union.cc
src/tool/omniidl2/omniORB2_be/o2be_generator.cc
src/tool/omniidl2/omniORB2_be/o2be_name.cc
src/tool/omniidl2/omniORB2_be/o2be_struct.cc
src/tool/omniidl2/omniORB2_be/o2be_exception.cc
src/tool/omniidl2/omniORB2_be/o2be_interface.cc
src/tool/omniidl2/omniORB2_be/o2be_attribute.cc
src/tool/omniidl2/omniORB2_be/o2be_string.cc
src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
src/tool/omniidl2/omniORB2_be/o2be_enum.cc
src/tool/omniidl2/omniORB2_be/o2be_name_mangle.cc
src/tool/omniidl2/omniORB2_be/o2be_buildDesc.cc


Sat May 22 18:36:21 BST 1999 sll
================================

- Added make rules to generate the database for viewing the source tree
  through ciao
  To regenerate the database, goto to the top level and type omake ciao.
  The database would be created as <buildtree top>/omni_ciao.db.
  To use the database, run ciao -f <buildtree top>/omni_ciao.db

src/tool/omniidl2/dir.mk
src/tool/dir.mk
src/lib/omniORB2/dir.mk
src/lib/dir.mk
src/appl/utils/dir.mk
src/appl/dir.mk
src/examples/dir.mk
src/dir.mk

- Added #ifdef __CIAO__ in these files so that CCia would not complain
  about gnu/linux particulars.

src/lib/omniORB2/orbcore/tcpSocketMTfactory.cc
src/lib/omniORB2/orbcore/corbaOrb.cc

- Note: the ciao rule is written to ignore errors. If CCia cannot parse
        a source file, no database info is available for that file.
        At the moment, the files that CCia fails to parse are:
           src/appl/omniNames/log.cc
           src/examples/partcl/pttwish.cc
           src/lib/omniParTcl/omniParTcl.cc


Thu May 20 16:24:42 BST 1999 sll
================================

- Fixed bugs to make the tree works again on win32 with MSVC++

src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
include/omniORB2/templatedecls.h

- Separated proxyCall into without context and with context versions
  Otherwise the orbcore library becomes dependent on the dynamic library

include/omniORB2/proxyCall.h
src/lib/omniORB2/orbcore/proxyCall.cc
src/lib/omniORB2/dynamic/proxyCall.cc             NEW
src/lib/omniORB2/dynamic/dir.mk
src/lib/omniORB2/dynamic/sharedlib/dir.mk


Mon May 10 17:36:13 BST 1999 djr
================================

- Fixed bug in constructors for read-only streams.

src/lib/omniORB2/orbcore/mbufferedStream.cc


Fri Apr 30 18:20:12 BST 1999 tjr
================================

- add RMC's bootstrap agent code

src/lib/omniORBj/omniorb/orb/OmniInitialReferences.java -- NEW
src/lib/omniORBj/omniorb/orb/GIOPServerRequest.java
src/lib/omniORBj/omniorb/orb/IIOPProfileBody.java
src/lib/omniORBj/omniorb/orb/IOPTaggedProfile.java
src/lib/omniORBj/omniorb/orb/IOR.java
src/lib/omniORBj/omniorb/orb/ORBImpl.java
src/lib/omniORBj/omniorb/orb/ObjectAdapter.java
src/lib/omniORBj/omniorb/orb/ObjectKey.java
src/lib/omniORBj/dir.mk


Wed Apr 21 12:14:54 BST 1999 djr
================================

- Use dedicated classes for sequence of string. Template version
  gave incorrect constructors.

include/omniORB2/stringtypes.h  -- NEW
include/omniORB2/CORBA.h
src/lib/omniORB2/orbcore/corbaString.cc
src/tool/omniidl2/omniORB2_be/o2be.h
src/tool/omniidl2/omniORB2_be/dir.mk
src/tool/omniidl2/omniORB2_be/o2be_stringbuf.h  -- NEW
src/tool/omniidl2/omniORB2_be/o2be_stringbuf.cc -- NEW
src/tool/omniidl2/omniORB2_be/o2be_sequence.cc
src/tool/omniidl2/omniORB2_be/o2be_name_mangle.cc

- Added marshalling operators to CORBA::Context. Updated various
  code to use these.

include/omniORB2/CORBA.h
src/lib/omniORB2/dynamic/context.h
src/lib/omniORB2/dynamic/context.cc
src/lib/omniORB2/dynamic/request.h
src/lib/omniORB2/dynamic/request.cc
src/lib/omniORB2/dynamic/pseudo.h
src/lib/omniORB2/dynamic/serverRequest.cc

- Proxy call wrapper now supports contexts.

include/omniORB2/proxyCall.h
src/lib/omniORB2/orbcore/proxyCall.cc

- Fixed bug in typecode alignment tables for arrays, and use of
  the same in sequences.

src/lib/omniORB2/dynamic/typecode.cc
src/lib/omniORB2/dynamic/tcParser.cc


Tue Apr 20 17:30:43 BST 1999 dpg1
=================================

- Oops -- #pragma prefix moved back outside module.
  #pragma prefix "" addded at end of file.

idl/Naming.idl


Tue Apr 20 14:43:52 BST 1999 dpg1
=================================

- Moved #pragma prefix inside module

idl/Naming.idl


Thu Apr 15 15:12:25 BST 1999 djr
================================

- Fixed bug in TIE implementation templates. Incorrect code was generated
  for interfaces using diamond shaped multiple inheritance.

src/tool/omniidl2/omniORB2_be/o2be_interface.cc


Wed Apr 14 11:41:12 BST 1999 dpg1
=================================

- Added inclusion guards to Naming.idl

idl/Naming.idl


Mon Apr 12 10:07:12 BST 1999 djr
================================

- Updated omniidl2 version number.

src/tool/omniidl2/omniORB2_be/o2be_root.cc
src/tool/omniidl2/driver/drv_main.cc


Tue Apr  6 09:30:57 BST 1999 djr
================================

- Updated the version number to 2.8.0

include/omniORB2/omniInternal.h
src/lib/omniORB2/orbcore/sharedlib/dir.mk
src/lib/omniORB2/dynamic/sharedlib/dir.mk
src/lib/omniORB2/lifecycle/sharedlib/dir.mk

- MSVC is not FD compliant regarding decls of const ints and enums.

include/omniORB2/CORBA_sysdep.h


Wed Mar 31 15:37:42 GMT 1999 djr
================================

- Version 5.7 tree copied from version5.6 tree.
